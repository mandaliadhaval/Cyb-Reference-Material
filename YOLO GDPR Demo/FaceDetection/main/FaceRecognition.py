from PIL import Imageimport face_recognition_modelsimport face_recognitionimport osfrom flask import Flask,render_template#from flask_mysqldb import MySQLfrom flask import Flask,sessionapp = Flask(__name__,template_folder='.')#app.config['MYSQL_HOST'] = 'localhost'#app.config['MYSQL_USER'] = 'root'#app.config['MYSQL_PASSWORD'] = 'root'#app.config['MYSQL_DB'] = 'details'#app.config['MYSQL_CURSORCLASS'] = 'DictCursor'# init MYSQL#mysql = MySQL()#mysql.init_app(app)@app.route("/", methods=['GET'])def hello():    print("Request received...")    # Load the jpg file into a numpy array    print("Detecting faces...")    image = face_recognition.load_image_file(r"C:\Users\tirtht\PycharmProjects\DeepDreamStudy\Images\image3.jpg")    folder = r'C:\images'    face_locations = face_recognition.face_locations(image)    i = 0    print('Total found faces are', len(face_locations))    for the_file in os.listdir(folder):        file_path = os.path.join(folder, the_file)        try:            if os.path.isfile(file_path):                os.unlink(file_path)        except Exception as e:            print(e)    print("Folder is now empty")    for face_location in face_locations:        # Print the location of each face in this image        top, right, bottom, left = face_location        print("A face is located at pixel location Top: {}, Left: {}, Bottom: {}, Right: {}".format(top, left, bottom,                                                                                                    right))        # You can access the actual face itself like this:        face_image = image[top:bottom, left:right]        pil_image = Image.fromarray(face_image)        pil_image.show()        print('Saving image {}'.format(i))        pil_image.save('C:\\images\\{}.jpg'.format(i))        i = i + 1    # now face recognition    i = 0    path = 'C:\images'    passPath= r'C:\passports'    print("passpath is "+passPath)    passfiles=os.listdir(passPath)    print("face recognition...")    imgfiles = os.listdir(path)    print(len(imgfiles))    name="s"    for passfile in passfiles:        res = 'false'        print("matching for ",passfile)        known_image = face_recognition.load_image_file(passPath+"\\"+passfile)        name=passfile        for img in imgfiles:            print("Scanning file ", img)            unknown_image = face_recognition.load_image_file(                r"C:\images\{}".format(img))            known_encoding = face_recognition.face_encodings(known_image)[0]            unknown_encoding = face_recognition.face_encodings(unknown_image)[0]            results = face_recognition.compare_faces([known_encoding], unknown_encoding, tolerance=0.5)            print(results)            if results[0] == True:                res = 'true'                print(passfile," is matched!")                print("Updating into database...")                print(res)                print(name)#                cur = mysql.connection.cursor()  # Execute#                cur.execute("UPDATE students SET  Result = (%s) WHERE FileName LIKE (%s) ", (res, name))                # Commit to DB#                mysql.connection.commit()                break            else:                print(passfile," is not matched!")    # now storing in the database    # Close connection#    cur.close()    print("Request served...")#    return render_template('index.html')    return "Done"if __name__ == "__main__":    app.run()